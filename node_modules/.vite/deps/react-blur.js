import {
  require_prop_types
} from "./chunk-SPAFGPSN.js";
import {
  require_react
} from "./chunk-HKN3T6U5.js";
import {
  __commonJS
} from "./chunk-5WRI5ZAA.js";

// node_modules/react-blur/dist/lib/StackBlur.js
var require_StackBlur = __commonJS({
  "node_modules/react-blur/dist/lib/StackBlur.js"(exports, module) {
    "use strict";
    var mul_table = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];
    var shg_table = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];
    function stackBlurImage(img, canvas, radius, w, h, callback) {
      if (!w || !h) return;
      var nw = img.naturalWidth;
      var nh = img.naturalHeight;
      canvas.style.width = w + "px";
      canvas.style.height = h + "px";
      canvas.width = w;
      canvas.height = h;
      var context = canvas.getContext("2d");
      context.clearRect(0, 0, w, h);
      var ratio = 1;
      if (nw / w > nh / h) {
        ratio = nh / h;
      } else {
        ratio = nw / w;
      }
      var drawW = nw / ratio;
      var drawH = nh / ratio;
      try {
        context.drawImage(img, Math.floor((drawW - w) / -2), Math.floor((drawH - h) / -2), Math.ceil(drawW), Math.ceil(drawH));
      } catch (e) {
        console.error("There was a problem drawing the image. " + e);
      }
      if (isNaN(radius) || radius < 1) {
        callback(null);
        return;
      }
      stackBlurCanvasRGB(canvas, 0, 0, w, h, radius, callback);
    }
    function stackBlurCanvasRGB(canvas, top_x, top_y, width, height, radius, callback) {
      if (isNaN(radius) || radius < 1) return;
      radius |= 0;
      var context = canvas.getContext("2d");
      var imageData;
      try {
        imageData = context.getImageData(top_x, top_y, width, height);
      } catch (e) {
        throw new Error("unable to access image data: " + e);
      }
      var pixels = imageData.data;
      var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, r_out_sum, g_out_sum, b_out_sum, r_in_sum, g_in_sum, b_in_sum, pr, pg, pb, rbs;
      var div = radius + radius + 1;
      var w4 = width << 2;
      var widthMinus1 = width - 1;
      var heightMinus1 = height - 1;
      var radiusPlus1 = radius + 1;
      var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;
      var stackStart = new BlurStack();
      var stack = stackStart;
      for (i = 1; i < div; i++) {
        stack = stack.next = new BlurStack();
        if (i == radiusPlus1) var stackEnd = stack;
      }
      stack.next = stackStart;
      var stackIn = null;
      var stackOut = null;
      yw = yi = 0;
      var mul_sum = mul_table[radius];
      var shg_sum = shg_table[radius];
      for (y = 0; y < height; y++) {
        r_in_sum = g_in_sum = b_in_sum = r_sum = g_sum = b_sum = 0;
        r_out_sum = radiusPlus1 * (pr = pixels[yi]);
        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);
        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);
        r_sum += sumFactor * pr;
        g_sum += sumFactor * pg;
        b_sum += sumFactor * pb;
        stack = stackStart;
        for (i = 0; i < radiusPlus1; i++) {
          stack.r = pr;
          stack.g = pg;
          stack.b = pb;
          stack = stack.next;
        }
        for (i = 1; i < radiusPlus1; i++) {
          p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);
          r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);
          g_sum += (stack.g = pg = pixels[p + 1]) * rbs;
          b_sum += (stack.b = pb = pixels[p + 2]) * rbs;
          r_in_sum += pr;
          g_in_sum += pg;
          b_in_sum += pb;
          stack = stack.next;
        }
        stackIn = stackStart;
        stackOut = stackEnd;
        for (x = 0; x < width; x++) {
          pixels[yi] = r_sum * mul_sum >> shg_sum;
          pixels[yi + 1] = g_sum * mul_sum >> shg_sum;
          pixels[yi + 2] = b_sum * mul_sum >> shg_sum;
          r_sum -= r_out_sum;
          g_sum -= g_out_sum;
          b_sum -= b_out_sum;
          r_out_sum -= stackIn.r;
          g_out_sum -= stackIn.g;
          b_out_sum -= stackIn.b;
          p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;
          r_in_sum += stackIn.r = pixels[p];
          g_in_sum += stackIn.g = pixels[p + 1];
          b_in_sum += stackIn.b = pixels[p + 2];
          r_sum += r_in_sum;
          g_sum += g_in_sum;
          b_sum += b_in_sum;
          stackIn = stackIn.next;
          r_out_sum += pr = stackOut.r;
          g_out_sum += pg = stackOut.g;
          b_out_sum += pb = stackOut.b;
          r_in_sum -= pr;
          g_in_sum -= pg;
          b_in_sum -= pb;
          stackOut = stackOut.next;
          yi += 4;
        }
        yw += width;
      }
      for (x = 0; x < width; x++) {
        g_in_sum = b_in_sum = r_in_sum = g_sum = b_sum = r_sum = 0;
        yi = x << 2;
        r_out_sum = radiusPlus1 * (pr = pixels[yi]);
        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);
        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);
        r_sum += sumFactor * pr;
        g_sum += sumFactor * pg;
        b_sum += sumFactor * pb;
        stack = stackStart;
        for (i = 0; i < radiusPlus1; i++) {
          stack.r = pr;
          stack.g = pg;
          stack.b = pb;
          stack = stack.next;
        }
        yp = width;
        for (i = 1; i <= radius; i++) {
          yi = yp + x << 2;
          r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);
          g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;
          b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;
          r_in_sum += pr;
          g_in_sum += pg;
          b_in_sum += pb;
          stack = stack.next;
          if (i < heightMinus1) {
            yp += width;
          }
        }
        yi = x;
        stackIn = stackStart;
        stackOut = stackEnd;
        for (y = 0; y < height; y++) {
          p = yi << 2;
          pixels[p] = r_sum * mul_sum >> shg_sum;
          pixels[p + 1] = g_sum * mul_sum >> shg_sum;
          pixels[p + 2] = b_sum * mul_sum >> shg_sum;
          r_sum -= r_out_sum;
          g_sum -= g_out_sum;
          b_sum -= b_out_sum;
          r_out_sum -= stackIn.r;
          g_out_sum -= stackIn.g;
          b_out_sum -= stackIn.b;
          p = x + ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;
          r_sum += r_in_sum += stackIn.r = pixels[p];
          g_sum += g_in_sum += stackIn.g = pixels[p + 1];
          b_sum += b_in_sum += stackIn.b = pixels[p + 2];
          stackIn = stackIn.next;
          r_out_sum += pr = stackOut.r;
          g_out_sum += pg = stackOut.g;
          b_out_sum += pb = stackOut.b;
          r_in_sum -= pr;
          g_in_sum -= pg;
          b_in_sum -= pb;
          stackOut = stackOut.next;
          yi += width;
        }
      }
      context.putImageData(imageData, top_x, top_y);
      if (callback) {
        callback(null);
      }
    }
    function BlurStack() {
      this.r = 0;
      this.g = 0;
      this.b = 0;
      this.a = 0;
      this.next = null;
    }
    module.exports = stackBlurImage;
  }
});

// node_modules/react-blur/dist/blur.js
var require_blur = __commonJS({
  "node_modules/react-blur/dist/blur.js"(exports) {
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _extends = Object.assign || function(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    var _react = require_react();
    var _react2 = _interopRequireDefault(_react);
    var _propTypes = require_prop_types();
    var _propTypes2 = _interopRequireDefault(_propTypes);
    var _StackBlur = require_StackBlur();
    var _StackBlur2 = _interopRequireDefault(_StackBlur);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function _objectWithoutProperties(obj, keys) {
      var target = {};
      for (var i in obj) {
        if (keys.indexOf(i) >= 0) continue;
        if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;
        target[i] = obj[i];
      }
      return target;
    }
    var animating = false;
    var ReactBlur = function ReactBlur2(props) {
      var _props$blurRadius = props.blurRadius, blurRadius = _props$blurRadius === void 0 ? 0 : _props$blurRadius, _props$children = props.children, children = _props$children === void 0 ? null : _props$children, _props$className = props.className, className = _props$className === void 0 ? "" : _props$className, _props$enableStyles = props.enableStyles, enableStyles = _props$enableStyles === void 0 ? false : _props$enableStyles, _props$onLoadFunction = props.onLoadFunction, onLoadFunction = _props$onLoadFunction === void 0 ? function() {
      } : _props$onLoadFunction, _props$shouldResize = props.shouldResize, shouldResize = _props$shouldResize === void 0 ? false : _props$shouldResize, _props$resizeInterval = props.resizeInterval, resizeInterval = _props$resizeInterval === void 0 ? 64 : _props$resizeInterval, img = props.img, other = _objectWithoutProperties(props, ["blurRadius", "children", "className", "enableStyles", "onLoadFunction", "shouldResize", "resizeInterval", "img"]);
      var containerRef = (0, _react.useRef)();
      var canvasRef = (0, _react.useRef)();
      var imgRef = (0, _react.useRef)();
      var widthRef = (0, _react.useRef)();
      var heightRef = (0, _react.useRef)();
      (0, _react.useEffect)(function() {
        loadImage();
        if (shouldResize) {
          window.addEventListener("resize", resize);
        }
        return function() {
          window.removeEventListener("resize", resize);
        };
      }, []);
      (0, _react.useEffect)(function() {
        if (!imgRef.current) {
          loadImage(props);
        } else if (!isCurrentImgSrc(img)) {
          imgRef.current.src = img;
          setDimensions();
        } else {
          if (animating) {
            return;
          }
          animating = true;
          window.requestAnimationFrame(function() {
            (0, _StackBlur2.default)(imgRef.current, canvasRef.current, blurRadius, widthRef.current, heightRef.current, function() {
              animating = false;
            });
          });
        }
      });
      var setDimensions = function setDimensions2() {
        heightRef.current = containerRef.current.offsetHeight;
        widthRef.current = containerRef.current.offsetWidth;
        canvasRef.current.height = heightRef.current;
        canvasRef.current.width = widthRef.current;
      };
      var isCurrentImgSrc = function isCurrentImgSrc2(newSrc) {
        if (imgRef.current) {
          var newImg = new Image();
          newImg.src = newSrc;
          return newImg.src === imgRef.current.src;
        }
        return false;
      };
      var loadImage = function loadImage2() {
        if (isCurrentImgSrc(imgRef.current)) {
          (0, _StackBlur2.default)(imgRef.current, canvasRef.current, blurRadius, widthRef.current, heightRef.current);
          return;
        }
        imgRef.current = new Image();
        imgRef.current.crossOrigin = "Anonymous";
        imgRef.current.onload = function(event) {
          (0, _StackBlur2.default)(imgRef.current, canvasRef.current, blurRadius, widthRef.current, heightRef.current);
          onLoadFunction(event);
        };
        imgRef.current.onerror = function(event) {
          imgRef.current.onerror = void 0;
          imgRef.current.src = "";
          onLoadFunction(event);
        };
        imgRef.current.src = img;
        setDimensions();
      };
      var last = void 0;
      var resize = function resize2() {
        var now = (/* @__PURE__ */ new Date()).getTime();
        var deferTimer = void 0;
        var threshhold = resizeInterval;
        if (last && now < last + threshhold) {
          clearTimeout(deferTimer);
          deferTimer = setTimeout(function() {
            last = now;
            doResize();
          }, threshhold);
        } else {
          last = now;
          doResize();
        }
      };
      var doResize = function doResize2() {
        setDimensions();
        (0, _StackBlur2.default)(imgRef.current, canvasRef.current, blurRadius, widthRef.current, heightRef.current);
      };
      var classes = "react-blur";
      if (className) {
        classes += " " + className;
      }
      var containerStyle = enableStyles ? {
        position: "relative"
      } : {};
      var canvasStyle = enableStyles ? {
        position: "absolute",
        top: 0,
        left: 0
      } : {};
      return _react2.default.createElement(
        "div",
        _extends({
          className: classes,
          ref: containerRef,
          style: containerStyle
        }, other),
        _react2.default.createElement("canvas", {
          className: "react-blur-canvas",
          ref: canvasRef,
          style: canvasStyle
        }),
        children
      );
    };
    ReactBlur.propTypes = {
      blurRadius: _propTypes2.default.number,
      children: _propTypes2.default.node,
      className: _propTypes2.default.string,
      enableStyles: _propTypes2.default.bool,
      img: _propTypes2.default.string.isRequired,
      onLoadFunction: _propTypes2.default.func,
      shouldResize: _propTypes2.default.bool,
      resizeInterval: _propTypes2.default.number
    };
    exports.default = ReactBlur;
  }
});
export default require_blur();
//# sourceMappingURL=react-blur.js.map
